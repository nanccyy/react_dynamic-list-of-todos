{"version":3,"sources":["components/TodoList/TodoList.jsx","components/CurrentUser/CurrentUser.jsx","api.js","App.js","index.js"],"names":["TodoList","todos","selectUser","filterTodosByTitle","todoStart","filterTodosByCompleteness","completed","className","htmlFor","type","id","onChange","event","target","value","filter","todo","title","getFiltered","startsWith","map","key","checked","readOnly","onClick","userId","defaultProps","CurrentUser","resetUser","name","email","phone","noUserError","API_URL","getAll","a","fetch","response","json","getUser","data","App","state","saveId","selectedUserId","setState","componentDidMount","then","componentDidUpdate","items","getUserProps","this","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f76a74e9.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport PropTypes from 'prop-types';\n\nexport const TodoList = ({ todos,\n  selectUser,\n  filterTodosByTitle,\n  todoStart,\n  filterTodosByCompleteness,\n  completed }) => {\n  function getFiltered(todo) {\n    return (todo.title && typeof (completed) === 'boolean')\n      ? todo.completed === completed\n      : todo.title;\n  }\n\n  return (\n    <div className=\"TodoList\">\n      <label htmlFor=\"sortTodo\">Sort Todos </label>\n      <input\n        type=\"text\"\n        id=\"sortTodo\"\n        onChange={(event) => {\n          filterTodosByTitle(event.target.value);\n        }}\n      />\n      <select onChange={event => filterTodosByCompleteness(event.target.value)}>\n        <option>All</option>\n        <option>Active</option>\n        <option>Completed</option>\n      </select>\n      <h2>Todos:</h2>\n\n      <ul className=\"TodoList__list\">\n\n        {todos\n          .filter(todo => getFiltered(todo))\n          .filter(todo => todo.title.startsWith(todoStart))\n          .map(todo => (\n            <li className=\"TodoList__item\" key={todo.id}>\n              <label>\n                <input type=\"checkbox\" checked={!!todo.completed} readOnly />\n                {todo.title}\n              </label>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  selectUser(todo.userId);\n                }}\n              >\n                User&nbsp;#\n                {todo.userId}\n              </button>\n            </li>\n          ))}\n\n      </ul>\n    </div>\n\n  );\n};\n\nTodoList.defaultProps = {\n  todoStart: '',\n  completed: null,\n};\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n  selectUser: PropTypes.func.isRequired,\n  filterTodosByTitle: PropTypes.func.isRequired,\n  todoStart: PropTypes.string,\n  filterTodosByCompleteness: PropTypes.func.isRequired,\n  completed: PropTypes.bool,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const CurrentUser = ({ resetUser,\n  id, name,\n  email,\n  phone,\n  noUserError }) => (\n  <div className=\"CurrentUser\">\n      {noUserError\n      ? <span>No info about this user</span>\n      : (\n        <>\n          <h2>\n            Selected user:\n            {id}\n          </h2>\n          <ul>\n            <li>{name}</li>\n            <li>{email}</li>\n            <li>{phone}</li>\n          </ul>\n          <button type=\"button\" onClick={resetUser}>Clear</button>\n        </>\n      )\n    }\n  </div>\n);\nCurrentUser.defaultProps = {\n  id: '',\n  name: '',\n  email: '',\n  phone: '',\n}\nCurrentUser.propTypes = {\n  resetUser: PropTypes.func.isRequired,\n  id: PropTypes.number,\n  name: PropTypes.string,\n  email: PropTypes.string,\n  phone: PropTypes.string,\n  noUserError: PropTypes.bool.isRequired,\n};\n","const API_URL = `https://mate-api.herokuapp.com/`;\n\nexport const getAll = async() => {\n  const response = await fetch(`${API_URL}todos`);\n\n  return response.json();\n};\n\nexport const getUser = async(userId) => {\n  const response = await fetch(`${API_URL}users/${userId}`);\n  const data = response.json();\n\n  return data;\n};\n","import React from 'react';\nimport './App.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getAll, getUser } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    saveId: 0,\n    selectedUserId: 0,\n    todoStart: '',\n    id: 0,\n    noUserError: false,\n  };\n\n  resetUser = () => {\n    this.setState({\n      selectedUserId: 0,\n      saveId: 0,\n    });\n  }\n\n  componentDidMount = () => {\n    getAll().then(todo => (\n      this.setState(\n        { todos: todo.data },\n      )\n    ));\n  }\n\n  selectUser = (userId) => {\n    if (!userId) {\n      this.setState({\n        saveId: 0,\n        selectedUserId: 0,\n        noUserError: true,\n      });\n    } else {\n      this.setState(state => ({\n        saveId: state.selectedUserId,\n        selectedUserId: userId,\n        noUserError: false,\n      }));\n    }\n  }\n\n  componentDidUpdate = () => {\n    if (this.state.saveId !== this.state.selectedUserId) {\n      const getUserProps = async() => {\n        const items = await getUser(this.state.selectedUserId);\n\n        if (!items.data) {\n          this.setState({\n            saveId: 0,\n            selectedUserId: 0,\n            noUserError: true,\n          });\n        } else {\n          this.setState(state => ({\n            id: items.data.id,\n            name: items.data.name,\n            email: (items.data.email) ? items.data.email : 'no email',\n            phone: (items.data.phone) ? items.data.phone : 'no phone',\n            saveId: state.selectedUserId,\n          }));\n        }\n      };\n\n      getUserProps();\n    }\n  }\n\n  filterTodosByTitle = (value) => {\n    this.setState({\n      todoStart: value,\n    });\n  }\n\n  filterTodosByCompleteness = (value) => {\n    switch (value) {\n      case 'Active':\n        this.setState({\n          completed: false,\n        });\n        break;\n\n      case 'Completed':\n        this.setState({\n          completed: true,\n        });\n        break;\n\n      default:\n        this.setState({\n          completed: null,\n        });\n    }\n  }\n\n  render() {\n    const {\n      todos,\n      selectedUserId,\n      id,\n      name,\n      email,\n      phone,\n      todoStart,\n      completed,\n      noUserError,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectUser={this.selectUser}\n            todoStart={todoStart}\n            filterTodosByTitle={this.filterTodosByTitle}\n            filterTodosByCompleteness={this.filterTodosByCompleteness}\n            completed={completed}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          {(selectedUserId && name) || noUserError ? (\n            <CurrentUser\n              userId={selectedUserId}\n              resetUser={this.resetUser}\n              id={id}\n              name={name}\n              email={email}\n              phone={phone}\n              noUserError={noUserError}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}